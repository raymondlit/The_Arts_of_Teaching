<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šå¤§ç”»æ•™å­¦ã€‹åœ¨çº¿é˜…è¯»</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'å¾®è½¯é›…é»‘', sans-serif;
            background: #f5f7fa;
        }

        .container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            gap: 20px;
            min-height: 100vh;
        }

        .sidebar {
            flex: 0 0 280px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .main-content {
            flex: 1;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .book-cover {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
            display: block;
            border-radius: 8px;
        }

        .chapter-list {
            list-style: none;
        }

        .chapter-item {
            margin: 10px 0;
            padding: 12px;
            border-radius: 6px;
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid #eee;
        }

        .chapter-item:hover {
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .promo-text {
            text-align: center;
            margin: 20px 0;
            color: #2c3e50;
        }

        #pdfViewer {
            width: 100%;
            min-height: 600px;
            margin-top: 20px;
        }

        .pdf-controls {
            margin-top: 20px;
            text-align: center;
            display: none;
        }

        .page-navigation {
            padding: 10px 20px;
            margin: 0 10px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .current-page {
            display: inline-block;
            margin: 0 15px;
            min-width: 80px;
        }

        .reading-mode .promo-section {
            display: none;
        }

        .reading-mode #pdfViewer {
            margin-top: 0;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .sidebar {
                flex: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <div class="sidebar">
            <h2>ç« èŠ‚å¯¼èˆª</h2>
            <ul class="chapter-list">
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹ä¸€ è¯¾ç¨‹å¤§çº².pdf">ç¬¬ä¸€ç« ï¼šè¯¾ç¨‹å¤§çº²å†™ä½œè¦ç´ è§£å†³æ–¹æ¡ˆ</li>
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹äºŒ  æ•™å­¦ç›®æ ‡.pdf">ç¬¬äºŒç« ï¼šå¤šå…ƒè¯¾ç¨‹ç›®æ ‡æ„å»ºæŒ‡å—</li>
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹ä¸‰  è¿‡ç¨‹è¯„ä»·.pdf">ç¬¬ä¸‰ç« ï¼šåˆ›æ–°è¯¾ç¨‹è¯„ä»·ç­–ç•¥å¤§å…¨</li>
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹å››   æ•™å­¦è®¾è®¡.pdf">ç¬¬å››ç« ï¼šå¤§ç­æ•™å­¦å‚ä¸å¼è®¾è®¡æ‰‹å†Œ</li>
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹äº”  è¯¾ç¨‹æ€æ”¿.pdf">ç¬¬äº”ç« ï¼šè¯¾ç¨‹æ€æ”¿èåˆä¸“ä¸šæ•™å­¦æŒ‡å—</li>
                <li class="chapter-item" data-file="å¤§ç”»æ•™å­¦ä¹‹å…­  æ•™å­¦é‚£ç‚¹äº‹.pdf">ç¬¬å…­ç« ï¼šå­¦æœŸå…¨æ™¯æ•™å­¦è§£å†³æ–¹æ¡ˆ</li>
            </ul>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content" id="mainContent">
            <div class="promo-section">
                <h1 class="promo-text">ã€Šå¤§ç”»æ•™å­¦ã€‹<br>
                    <small>The Arts of Teaching:<br>A Visual Approach to Pedagogy</small>
                </h1>
                
                <img src="book-cover.jpg" alt="å¤§ç”»æ•™å­¦å°é¢" class="book-cover">

                <div class="promo-text">
                    <p>ğŸŒ¶ï¸ é’æ¤’è€æ¤’å¿…è¯»å®å…¸ | ğŸ¨ æ•™å­¦ç—›ç‚¹å¯è§†åŒ–è§£å†³æ–¹æ¡ˆ | ğŸ“š ä¸€å†Œåœ¨æ‰‹æ•™å­¦æ— å¿§</p>
                    <p>ä»èœé¸Ÿæ•™å¸ˆåˆ°æ•™å­¦å¤§å’–ï¼Œ<br>ä»ç…§æœ¬å®£ç§‘åˆ°è¯¾å ‚é­”æœ¯å¸ˆï¼Œ<br>è¿™æœ¬å¯è§†åŒ–æ•™å­¦æŒ‡å—å¸®ä½ ï¼š</p>
                    <p>ğŸš€ çªç ´ä¼ ç»Ÿæ•™å­¦æ¡†æ¶<br>
                       ğŸ§© è§£å†³å…­å¤§æ ¸å¿ƒç—›ç‚¹<br>
                       ğŸ’¡ è§£é”30+åˆ›æ–°ç­–ç•¥<br>
                       ğŸ¯ æ„å»ºå®Œæ•´æ•™å­¦é—­ç¯</p>
                    <p>è¿™ä¸æ˜¯ä¸€æœ¬æ™®é€šçš„æ•™æï¼Œ<br>è€Œæ˜¯æ¯ä½æ•™å¸ˆçš„"æ•™å­¦æ€¥æ•‘ç®±"<br>å’Œ"è¯¾å ‚åˆ›æ„å·¥åŠ"ï¼</p>
                </div>
            </div>

            <!-- PDFé˜…è¯»å™¨å®¹å™¨ -->
            <div id="pdfViewer"></div>
            <div class="pdf-controls">
                <button class="page-navigation" id="prevPage">ä¸Šä¸€é¡µ</button>
                <span class="current-page" id="currentPage">ç¬¬1é¡µ</span>
                <button class="page-navigation" id="nextPage">ä¸‹ä¸€é¡µ</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>
    <script>
        let currentPDF = null;
        let currentPageNum = 1;
        let totalPages = 1;

        // ç« èŠ‚ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.chapter-item').forEach(item => {
            item.addEventListener('click', async () => {
                const pdfFile = item.dataset.file;
                document.getElementById('mainContent').classList.add('reading-mode');
                document.querySelector('.pdf-controls').style.display = 'block';
                await loadPDF(pdfFile);
            });
        });

        // ç¿»é¡µæ§åˆ¶
        document.getElementById('prevPage').addEventListener('click', () => {
            if(currentPageNum > 1) {
                currentPageNum--;
                renderPage(currentPageNum);
            }
        });

        document.getElementById('nextPage').addEventListener('click', () => {
            if(currentPageNum < totalPages) {
                currentPageNum++;
                renderPage(currentPageNum);
            }
        });

        // PDFåŠ è½½å‡½æ•°
        async function loadPDF(url) {
            try {
                const loadingTask = pdfjsLib.getDocument(url);
                currentPDF = await loadingTask.promise;
                totalPages = currentPDF.numPages;
                currentPageNum = 1;
                renderPage(currentPageNum);
            } catch(err) {
                console.error('PDFåŠ è½½å¤±è´¥:', err);
            }
        }

        // æ¸²æŸ“æŒ‡å®šé¡µé¢
        async function renderPage(pageNum) {
            if(!currentPDF) return;

            const page = await currentPDF.getPage(pageNum);
            const scale = 1.5;
            const viewport = page.getViewport({ scale });
            
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;

            const renderContext = {
                canvasContext: context,
                viewport: viewport
            };

            document.getElementById('pdfViewer').innerHTML = '';
            document.getElementById('pdfViewer').appendChild(canvas);
            
            await page.render(renderContext).promise;
            document.getElementById('currentPage').textContent = `ç¬¬${pageNum}é¡µ`;
        }
    </script>
</body>
</html>